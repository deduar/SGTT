{% extends 'tematwigcsg/plantilla.html.twig' %}

{% block body %}
    <h3>Mis Excpciones</h3>
    <table>
        <thead>
            <tr>
                <th>Editar</th>
                <th>Solicitante</th>
                <th>Inicio
                 / Fin</th>
                <th>Observación</th>
                <th>Tipo Excepcion</th>
                <th>Tipo Estado</th>
                <th>Ejec</th>
                <th>Env</th>
                <th>Conf</th>
                <th>Remu</th>
            </tr>
        </thead>
        <tbody>
        {% for excepcion in excepcions %}
            <tr>
                <td>
                    <a href="{{ path('excepcion_show', { 'id': excepcion.id }) }}"> 
                       <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>
                </td>
                <td>{{ empleado.login }}</td>
                <td>{{ excepcion.fechaInicio |date('Y-m-d H:m:s')}}
                <br> {{ excepcion.fechaFin |date('Y-m-d H:m:s')}}</td>
                <td>{{ excepcion.observacion }}</td>
                <td>{{ excepcion.idtypoexcepcion }}</td>
                <td>{{ excepcion.idtypoestadoexcepcion }}</td>
                <td>
                    {% if (excepcion.ejecutada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcion.enviada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcion.conformada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcion.remunerada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <hr/>

    <h3>Excepciones de Personal a Cargo</h3>

    <table>
        <thead>
            <tr>
                <th>Editar</th>
                <th>Solicitante</th>
                <th>FechaInicio</th>
                <th>FechaFin</th>
                <th>Observación</th>
                <th>Tipo Excepcion</th>
                <th>Tipo Estado</th>
                <th>Ejec</th>
                <th>Env</th>
                <th>Conf</th>
                <th>Remu</th>
            </tr>
        </thead>
        <tbody>
        {% for excepcions_supervisor in excepcions_supervisors %}
            <tr>
                <td><a href="{{ path('excepcion_show', { 'id': excepcions_supervisor.id }) }}"class="glyphicon glyphicon-pencil"></a></td>
                {% for supervisor in supervisors %}
                    {% if excepcions_supervisor.idempleado == supervisor.id  %}
                        <td>{{ supervisor.login }}</td>
                    {% endif %}
                {% endfor %}
                <td>{{ excepcions_supervisor.fechaInicio |date('Y-m-d H:m:s')}}</td>
                <td>{{ excepcions_supervisor.fechaFin |date('Y-m-d H:m:s')}}</td>
                <td>{{ excepcions_supervisor.observacion }}</td>
                <td>{{ excepcions_supervisor.idtypoexcepcion }}</td>
                <td>{{ excepcions_supervisor.idtypoestadoexcepcion }}</td>
                <td>
                    {% if (excepcions_supervisor.ejecutada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcions_supervisor.enviada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcions_supervisor.conformada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcions_supervisor.remunerada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
         </tbody>
    </table>
    <ul>
        <li>
            <a href="{{ path('excepcion_new') }}">Create a new entry</a>
        </li>
    </ul>
{% endblock %}
