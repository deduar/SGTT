{% extends 'tematwigcsg/plantilla.html.twig' %}

{% block body %}
    <h3>Mis Excpciones</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Inicio</th>
                <th> Fin</th>
                <th>Tipo Excepcion</th>
                <th>Tipo Estado</th>
                <th>Ejec</th>
                <th>Env</th>
                <th>Conf</th>
                <th>Remu</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for excepcion in excepcions %}
            <tr>
                <td>{{ excepcion.fechaInicio |date('Y-m-d H:m:s')}}</td>
                <td> {{ excepcion.fechaFin |date('Y-m-d H:m:s')}}</td>
                <td>{{ excepcion.idtypoexcepcion }}</td>
                <td>{{ excepcion.idtypoestadoexcepcion }}</td>
                <td>
                    {% if (excepcion.ejecutada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcion.enviada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcion.conformada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcion.remunerada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ path('excepcion_show', { 'id': excepcion.id }) }}"> 
                       <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </a>
                    <a href="{{ path('excepcion_edit', { 'id': excepcion.id }) }}"> 
                       <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <hr/>

    <h3>Excepciones de Personal a Cargo</h3>

    <table class="table">
        <thead>
            <tr>
                <th>Solicitante</th>
                <th>Inicio</th>
                <th>Fin</th>
                <th>Tipo Excepcion</th>
                <th>Tipo Estado</th>
                <th>Ejec</th>
                <th>Env</th>
                <th>Conf</th>
                <th>Remu</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for excepcions_supervisor in excepcions_supervisors %}
            <tr>
                {% for supervisor in supervisors %}
                    {% if excepcions_supervisor.idempleado == supervisor.id  %}
                        <td>{{ supervisor.login }}</td>
                    {% endif %}
                {% endfor %}
                <td>{{ excepcions_supervisor.fechaInicio |date('Y-m-d H:m:s')}}</td>
                <td>{{ excepcions_supervisor.fechaFin |date('Y-m-d H:m:s')}}</td>
                <td>{{ excepcions_supervisor.idtypoexcepcion }}</td>
                <td>{{ excepcions_supervisor.idtypoestadoexcepcion }}</td>
                <td>
                    {% if (excepcions_supervisor.ejecutada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcions_supervisor.enviada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcions_supervisor.conformada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    {% if (excepcions_supervisor.remunerada) %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ path('excepcion_show', { 'id': excepcions_supervisor.id }) }}" 
                        class="glyphicon glyphicon-search"></a>
                    <a href="{{ path('excepcion_edit', { 'id': excepcions_supervisor.id }) }}"
                        class="glyphicon glyphicon-pencil"></a>
                    </td>
            </tr>
        {% endfor %}
         </tbody>
    </table>
    <ul>
        <a href="{{ path('excepcion_new') }}"><span class="btn btn-primary">Nueva Excepci√≥n</span></a>
    </ul>
{% endblock %}
