{% extends 'tematwigcsg/plantilla.html.twig' %}

{% block body %}
    <h3>Mis Excepciones</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Inicio</th>
                <th> Fin</th>
                <th> Duración</th>
                <th>Tipo Excepcion</th>
                <th>Tipo Estado</th>
                <th>Ejec</th>
                <th>Env</th>
                <th>Conf</th>
                <th>Remu</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for e in ex %}
                {% if (ex[0].idempleado == e.idempleado) %}
                <tr>
                    <td>{{ e.fechaInicio|date('Y-m-d H:m:s') }}</td>
                    <td>{{ e.fechaFin|date('Y-m-d H:m:s') }}</td>
                    <td>Duracion</td>
                    <td>{{ e.idtypoexcepcion }}</td>
                    <td>{{ e.idtypoestadoexcepcion }}</td>
                    <td>
                        {% if (e.ejecutada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        {% if (e.enviada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        {% if (e.conformada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        {% if (e.remunerada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ path('excepcion_show', { 'id': e.id }) }}"> 
                           <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                        </a>
                        <a href="{{ path('excepcion_edit', { 'id': e.id }) }}"> 
                           <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </a>
                    </td>
                </tr>
                {% endif %}
            {% endfor %}
        </tbody>
    </table>

    <h3>Excepciones de Personal a Cargo</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Solicitante</th>
                <th>Inicio</th>
                <th> Fin</th>
                <th> Duración</th>
                <th>Tipo Excepcion</th>
                <th>Tipo Estado</th>
                <th>Ejec</th>
                <th>Env</th>
                <th>Conf</th>
                <th>Remu</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for e in ex %}
                {% if (ex[0].idempleado != e.idempleado) %}
                <tr>
                    <td>{{ e.idempleado }}</td>
                    <td>{{ e.fechaInicio|date('Y-m-d H:m:s') }}</td>
                    <td>{{ e.fechaFin|date('Y-m-d H:m:s') }}</td>
                    <td>Duracion</td>
                    <td>{{ e.idtypoexcepcion }}</td>
                    <td>{{ e.idtypoestadoexcepcion }}</td>
                    <td>
                        {% if (e.ejecutada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        {% if (e.enviada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        {% if (e.conformada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        {% if (e.remunerada) %}
                            <span class="glyphicon glyphicon-ok"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove"></span>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ path('excepcion_show', { 'id': e.id }) }}"> 
                           <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                        </a>
                        <a href="{{ path('excepcion_edit', { 'id': e.id }) }}"> 
                           <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </a>
                    </td>
                </tr>
                {% endif %}
            {% endfor %}
        </tbody>
    </table>


{% endblock %}
